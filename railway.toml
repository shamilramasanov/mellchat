[build]
builder = "NIXPACKS"

[build.env]
NODE_VERSION = "18"
CI = "false"

[deploy]
startCommand = "cd backend/api-gateway && npm install && npm start"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Railway will use the backend/api-gateway directory
[build.context]
context = "backend/api-gateway"
