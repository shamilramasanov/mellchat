# ü§ñ AI –†–µ–∞–ª—Ç–∞–π–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è - –û–±—Å—É–∂–¥–µ–Ω–∏–µ

**–î–∞—Ç–∞:** 1 –Ω–æ—è–±—Ä—è 2025  
**–ò–¥–µ—è:** AI —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç —á–∞—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–ø—Ä–æ—Å–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

---

## üéØ –ö–æ–Ω—Ü–µ–ø—Ü–∏—è

**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≥–æ–≤–æ—Ä–∏—Ç:** "–∏–∑–±–∞–≤—å –º–µ–Ω—è –æ—Ç —Å–ø–∞–º–∞!"  
**AI –¥–µ–ª–∞–µ—Ç:** –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫—Ä—ã–≤–∞–µ—Ç —Å–ø–∞–º –≤ —á–∞—Ç–µ

---

## üí° –í–∞—Ä–∏–∞–Ω—Ç—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### –í–∞—Ä–∏–∞–Ω—Ç 1: AI –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è ‚≠ê –†–ï–ö–û–ú–ï–ù–î–£–Æ

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞–µ—Ç –∑–∞–ø—Ä–æ—Å: "–∏–∑–±–∞–≤—å –º–µ–Ω—è –æ—Ç —Å–ø–∞–º–∞!"
2. AI –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ —Å–æ–∑–¥–∞–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
3. –ö–∞–∂–¥–æ–µ –Ω–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è AI –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º
4. –ï—Å–ª–∏ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ø–∞–¥–∞–µ—Ç –ø–æ–¥ —Ñ–∏–ª—å—Ç—Ä - —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è

**–ü–ª—é—Å—ã:**
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å - –º–æ–∂–Ω–æ –∑–∞–¥–∞–≤–∞—Ç—å –ª—é–±—ã–µ –ø—Ä–∞–≤–∏–ª–∞ ("—Å–∫—Ä–æ–π –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–µ", "–ø–æ–∫–∞–∂–∏ —Ç–æ–ª—å–∫–æ –≤–æ–ø—Ä–æ—Å—ã")
- ‚úÖ –¢–æ—á–Ω–æ—Å—Ç—å - AI –ø–æ–Ω–∏–º–∞–µ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç –∏ —Å–º—ã—Å–ª
- ‚úÖ –†–µ–∞–ª—Ç–∞–π–º - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å—Ä–∞–∑—É –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–æ–æ–±—â–µ–Ω–∏—è

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –í—ã—Å–æ–∫–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å API (–∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ = –∑–∞–ø—Ä–æ—Å –∫ Gemini)
- ‚ùå –ó–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ –∞–Ω–∞–ª–∏–∑ (200-500ms –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏–µ)
- ‚ùå Rate limits Gemini API

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
- –ë–∞—Ç—á–∏–Ω–≥: –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞—á–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π —Ä–∞–∑ –≤ N —Å–µ–∫—É–Ω–¥
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ: –Ω–µ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã –¥–≤–∞–∂–¥—ã
- –ì–∏–±—Ä–∏–¥: —Å—É—â–µ—Å—Ç–≤—É—é—â–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è —Å–ø–∞–º–∞ + AI –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ (—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π + AI) ‚≠ê –ë–ê–õ–ê–ù–°

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –¥–µ—Ç–µ–∫—Ü–∏—é —Å–ø–∞–º–∞ (`messageScoringEngine`) –∫–∞–∫ –ø–µ—Ä–≤—ã–π —Ñ–∏–ª—å—Ç—Ä
2. AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ "–ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–µ" —Å–æ–æ–±—â–µ–Ω–∏—è (score –≤ —Å–µ—Ä–µ–¥–∏–Ω–µ –¥–∏–∞–ø–∞–∑–æ–Ω–∞)
3. AI –º–æ–∂–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ—à–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º—ã

**–ü–ª—é—Å—ã:**
- ‚úÖ –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π)
- ‚úÖ –ë—ã—Å—Ç—Ä–µ–µ (–º–µ–Ω—å—à–µ –∑–∞–ø—Ä–æ—Å–æ–≤)
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –°–ª–æ–∂–Ω–µ–µ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–Ω—É–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –¥–≤–µ —Å–∏—Å—Ç–µ–º—ã)
- ‚ùå –ú–µ–Ω–µ–µ –≥–∏–±–∫–æ –¥–ª—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

**–ü—Ä–∏–º–µ—Ä:**
```
–°–æ–æ–±—â–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç
  ‚Üì
messageScoringEngine ‚Üí score = 45 (–ø–æ–≥—Ä–∞–Ω–∏—á–Ω—ã–π)
  ‚Üì
AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç: "–≠—Ç–æ —Å–ø–∞–º?"
  ‚Üì
AI: "–î–∞, —ç—Ç–æ —Ä–µ–∫–ª–∞–º–∞" ‚Üí isSpam = true ‚Üí —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è
```

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: AI –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ ‚≠ê –≠–ö–û–ù–û–ú–ò–ß–ù–û

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–∏–∑–±–∞–≤—å –º–µ–Ω—è –æ—Ç —Å–ø–∞–º–∞!"
2. AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ JavaScript
3. –ü—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ –∫ –∫–∞–∂–¥–æ–º—É —Å–æ–æ–±—â–µ–Ω–∏—é
4. AI –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä –ø—Ä–∞–≤–∏–ª:**
```javascript
// AI —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
const filterRules = {
  hideSpam: true,
  hideNegative: false,
  minMessageLength: 3,
  blockPatterns: ['—Ä–µ–∫–ª–∞–º–∞', '–∫—É–ø–∏—Ç—å', '–±–µ—Å–ø–ª–∞—Ç–Ω–æ'],
  allowQuestions: true
};
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –û—á–µ–Ω—å –¥–µ—à–µ–≤–æ (AI –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞)
- ‚úÖ –ë—ã—Å—Ç—Ä–æ (–ø—Ä–∞–≤–∏–ª–∞ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ)
- ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ (–º–æ–∂–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Ç—ã—Å—è—á–∏ —Å–æ–æ–±—â–µ–Ω–∏–π/—Å–µ–∫)

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –ú–µ–Ω–µ–µ –≥–∏–±–∫–æ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚ùå –ù—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–∞–≤–∏–ª
- ‚ùå –°–ª–æ–∂–Ω–µ–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —Å–ª–æ–∂–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π –ø–æ–¥—Ö–æ–¥

### –ì–∏–±—Ä–∏–¥–Ω—ã–π —Å –±–∞—Ç—á–∏–Ω–≥–æ–º:

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞:**
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: "–∏–∑–±–∞–≤—å –º–µ–Ω—è –æ—Ç —Å–ø–∞–º–∞!"
   - AI –ø–æ–Ω–∏–º–∞–µ—Ç: –Ω—É–∂–Ω–æ —Å–∫—Ä—ã–≤–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —Å –ø—Ä–∏–∑–Ω–∞–∫–∞–º–∏ —Å–ø–∞–º–∞
   - –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–∞–≤–∏–ª–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

2. **–†–µ–∞–ª—Ç–∞–π–º —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è:**
   - –ù–æ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è —Å–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π (`isSpam`)
   - –ï—Å–ª–∏ `isSpam: true` ‚Üí —Å—Ä–∞–∑—É —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è
   - –ï—Å–ª–∏ `isSpam: false` –Ω–æ –µ—Å—Ç—å –ø–æ–¥–æ–∑—Ä–µ–Ω–∏–µ ‚Üí –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å –¥–ª—è AI –∞–Ω–∞–ª–∏–∑–∞
   - –†–∞–∑ –≤ 2-3 —Å–µ–∫—É–Ω–¥—ã AI –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –±–∞—Ç—á –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
   - –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –∫ —Å–æ–æ–±—â–µ–Ω–∏—è–º

3. **UI:**
   - –ö–Ω–æ–ø–∫–∞ "AI –§–∏–ª—å—Ç—Ä" –≤ –º–µ–Ω—é "+"
   - –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –≤–≤–æ–¥–∞ –ø—Ä–∞–≤–∏–ª: "–∏–∑–±–∞–≤—å –º–µ–Ω—è –æ—Ç —Å–ø–∞–º–∞", "–ø–æ–∫–∞–∂–∏ —Ç–æ–ª—å–∫–æ –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–µ", –∏ —Ç.–¥.
   - –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞
   - –ë–∞–Ω–Ω–µ—Ä: "AI —Ñ–∏–ª—å—Ç—Ä –∞–∫—Ç–∏–≤–µ–Ω: —Å–∫—Ä—ã—Ç —Å–ø–∞–º"

---

## üí∞ –û—Ü–µ–Ω–∫–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ (Gemini API)

### –í–∞—Ä–∏–∞–Ω—Ç 1 (–∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ):
- 1 —Å–æ–æ–±—â–µ–Ω–∏–µ = ~500 —Ç–æ–∫–µ–Ω–æ–≤ = $0.0005
- 100 —Å–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω—É—Ç—É = $0.05/–º–∏–Ω—É—Ç—É = $3/—á–∞—Å
- **–°–ª–∏—à–∫–æ–º –¥–æ—Ä–æ–≥–æ –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—Ç—Ä–∏–º–∞**

### –í–∞—Ä–∏–∞–Ω—Ç 2 (–≥–∏–±—Ä–∏–¥–Ω—ã–π):
- –¢–æ–ª—å–∫–æ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (10-20% –æ—Ç –≤—Å–µ—Ö)
- 10-20 —Å–æ–æ–±—â–µ–Ω–∏–π/–º–∏–Ω—É—Ç—É = $0.005/–º–∏–Ω—É—Ç—É = $0.30/—á–∞—Å
- **–ü—Ä–∏–µ–º–ª–µ–º–æ**

### –í–∞—Ä–∏–∞–Ω—Ç 3 (–ø—Ä–∞–≤–∏–ª–∞):
- 1 –∑–∞–ø—Ä–æ—Å –Ω–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –ø—Ä–∞–≤–∏–ª = ~1000 —Ç–æ–∫–µ–Ω–æ–≤ = $0.001
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–∞–∑ –≤ —á–∞—Å = $0.001/—á–∞—Å
- **–û—á–µ–Ω—å –¥–µ—à–µ–≤–æ**

---

## üõ†Ô∏è –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–í–∞—Ä–∏–∞–Ω—Ç 2 - –ì–∏–±—Ä–∏–¥–Ω—ã–π)

### Backend:

```javascript
// –ù–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å: aiRealtimeFilterService.js
class AIRealtimeFilterService {
  constructor() {
    this.filterRules = null; // –ü—Ä–∞–≤–∏–ª–∞ –æ—Ç AI
    this.messageQueue = []; // –û—á–µ—Ä–µ–¥—å –¥–ª—è –±–∞—Ç—á –∞–Ω–∞–ª–∏–∑–∞
    this.batchInterval = 2000; // 2 —Å–µ–∫—É–Ω–¥—ã
  }

  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∑–∞–¥–∞–ª –ø—Ä–∞–≤–∏–ª–æ
  async setFilterRule(userQuery) {
    // AI –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å
    const rule = await geminiService.interpretFilterRule(userQuery);
    this.filterRules = rule;
  }

  // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
  async shouldHideMessage(message) {
    // 1. –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
    if (message.isSpam && this.filterRules.hideSpam) {
      return true; // –°—Ä–∞–∑—É —Å–∫—Ä—ã–≤–∞–µ–º
    }

    // 2. –ï—Å–ª–∏ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω–æ–µ - –¥–æ–±–∞–≤–ª—è–µ–º –≤ –æ—á–µ—Ä–µ–¥—å
    if (this.isSuspicious(message)) {
      this.messageQueue.push(message);
    }

    return false; // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º
  }

  // –ë–∞—Ç—á –∞–Ω–∞–ª–∏–∑ –∫–∞–∂–¥—ã–µ 2 —Å–µ–∫—É–Ω–¥—ã
  async analyzeBatch() {
    if (this.messageQueue.length === 0) return;
    
    const batch = this.messageQueue.splice(0, 10); // –ú–∞–∫—Å–∏–º—É–º 10 –∑–∞ —Ä–∞–∑
    const result = await geminiService.filterMessagesBatch(batch, this.filterRules);
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    result.forEach(({ messageId, shouldHide }) => {
      // –û–±–Ω–æ–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ store/–ë–î
    });
  }
}
```

### Frontend:

```javascript
// –í AppNewUI.jsx
const [aiRealtimeFilter, setAiRealtimeFilter] = useState(null);

const handleSetAIFilter = async (query) => {
  // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –∑–∞–ø—Ä–æ—Å –Ω–∞ –±—ç–∫–µ–Ω–¥
  const response = await fetch('/api/v1/ai/realtime-filter', {
    method: 'POST',
    body: JSON.stringify({ query })
  });
  
  setAiRealtimeFilter(query);
};

// –í messagesForActive –ø—Ä–∏–º–µ–Ω—è–µ–º —Ñ–∏–ª—å—Ç—Ä
const messagesForActive = useMemo(() => {
  let filtered = allMessages.filter(m => m.streamId === activeStreamId);
  
  // AI —Ä–µ–∞–ª—Ç–∞–π–º —Ñ–∏–ª—å—Ç—Ä
  if (aiRealtimeFilter) {
    filtered = filtered.filter(m => {
      // –°–æ–æ–±—â–µ–Ω–∏—è —Å isSpam —É–∂–µ —Å–∫—Ä—ã—Ç—ã —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π
      // AI –º–æ–∂–µ—Ç –¥–æ–±–∞–≤–∏—Ç—å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
      return !m.aiFiltered; // –ù–æ–≤–æ–µ –ø–æ–ª–µ –æ—Ç AI
    });
  }
  
  return filtered;
}, [aiRealtimeFilter, ...]);
```

---

## ü§î –í–æ–ø—Ä–æ—Å—ã –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è

1. **–ö–∞–∫–æ–π –≤–∞—Ä–∏–∞–Ω—Ç –≤—ã–±–∏—Ä–∞–µ–º?**
   - –í–∞—Ä–∏–∞–Ω—Ç 1 (–∫–∞–∂–¥–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ) - –¥–æ—Ä–æ–≥–æ, –Ω–æ –≥–∏–±–∫–æ
   - –í–∞—Ä–∏–∞–Ω—Ç 2 (–≥–∏–±—Ä–∏–¥–Ω—ã–π) - –±–∞–ª–∞–Ω—Å —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞
   - –í–∞—Ä–∏–∞–Ω—Ç 3 (–ø—Ä–∞–≤–∏–ª–∞) - –æ—á–µ–Ω—å –¥–µ—à–µ–≤–æ, –Ω–æ –º–µ–Ω–µ–µ –≥–∏–±–∫–æ

2. **–ß—Ç–æ –¥–µ–ª–∞—Ç—å —Å —É–∂–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–º–∏ —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏?**
   - –ü—Ä–∏–º–µ–Ω—è—Ç—å —Ñ–∏–ª—å—Ç—Ä —Ç–æ–ª—å–∫–æ –∫ –Ω–æ–≤—ã–º?
   - –ò–ª–∏ —Ä–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω–æ —Ñ–∏–ª—å—Ç—Ä–æ–≤–∞—Ç—å –≤—Å–µ –≤ —á–∞—Ç–µ?

3. **–ö–∞–∫ —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ñ–∏–ª—å—Ç—Ä?**
   - –û–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ?
   - –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ (—Ä–∞–∑ –≤ —á–∞—Å/–¥–µ–Ω—å)?
   - –ü–æ –∑–∞–ø—Ä–æ—Å—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?

4. **–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è?**
   - "–≠—Ç–æ –Ω–µ —Å–ø–∞–º!" ‚Üí AI —É—á–∏—Ç—Å—è
   - "–≠—Ç–æ —Å–ø–∞–º!" ‚Üí AI –∫–æ—Ä—Ä–µ–∫—Ç–∏—Ä—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞

5. **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Å–∏—Å—Ç–µ–º–æ–π?**
   - –ó–∞–º–µ–Ω—è–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –¥–µ—Ç–µ–∫—Ü–∏—é —Å–ø–∞–º–∞?
   - –î–æ–ø–æ–ª–Ω—è–µ—Ç –µ—ë?
   - –†–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ?

---

## üí° –ú–æ–∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –Ω–∞—á–∞–ª–∞: –í–∞—Ä–∏–∞–Ω—Ç 2 (–ì–∏–±—Ä–∏–¥–Ω—ã–π —Å –±–∞—Ç—á–∏–Ω–≥–æ–º)

**–ü–æ—á–µ–º—É:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É
- –≠–∫–æ–Ω–æ–º–∏—è —Ç–æ–∫–µ–Ω–æ–≤ (–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ —á–∞—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π)
- –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –≥–∏–±–∫–æ –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–ª—É—á–∞–µ–≤
- –ú–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
1. –î–æ–±–∞–≤–∏—Ç—å `aiRealtimeFilterService.js` –Ω–∞ –±—ç–∫–µ–Ω–¥
2. WebSocket –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Ñ–ª–∞–≥ `aiFiltered` –≤–º–µ—Å—Ç–µ —Å —Å–æ–æ–±—â–µ–Ω–∏–µ–º
3. Frontend —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç –ø–æ `aiFiltered`
4. UI –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∞–≤–∏–ª —á–µ—Ä–µ–∑ –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ

**–°—Ç–æ–∏–º–æ—Å—Ç—å:** ~$0.30-1.00/—á–∞—Å –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å—Ç—Ä–∏–º–∞ (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞–≥—Ä—É–∑–∫–∏)

---

## üìã –ü–ª–∞–Ω —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (–µ—Å–ª–∏ –≤—ã–±–∏—Ä–∞–µ–º –í–∞—Ä–∏–∞–Ω—Ç 2)

### –≠—Ç–∞–ø 1: Backend —Å–µ—Ä–≤–∏—Å (2-3 –¥–Ω—è)
- `aiRealtimeFilterService.js` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å
- –ú–µ—Ç–æ–¥ `interpretFilterRule()` –≤ geminiService
- –ú–µ—Ç–æ–¥ `filterMessagesBatch()` –¥–ª—è –±–∞—Ç—á –∞–Ω–∞–ª–∏–∑–∞
- Endpoint `/api/v1/ai/realtime-filter` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –≠—Ç–∞–ø 2: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å messageHandler (1-2 –¥–Ω—è)
- –î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —á–µ—Ä–µ–∑ AI —Ñ–∏–ª—å—Ç—Ä
- –ë–∞—Ç—á–∏–Ω–≥ –ø–æ–¥–æ–∑—Ä–∏—Ç–µ–ª—å–Ω—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ñ–ª–∞–≥–∞ `aiFiltered` –≤ —Å–æ–æ–±—â–µ–Ω–∏—è—Ö

### –≠—Ç–∞–ø 3: Frontend (2-3 –¥–Ω—è)
- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ AI —Ñ–∏–ª—å—Ç—Ä–∞
- –°–æ—Å—Ç–æ—è–Ω–∏–µ –∏ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–∞–≤–∏–ª
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ `aiFiltered`
- –ë–∞–Ω–Ω–µ—Ä –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Ñ–∏–ª—å—Ç—Ä–∞

### –≠—Ç–∞–ø 4: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (1-2 –¥–Ω—è)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Ö–æ–∂–∏—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- –î–µ–±–∞—É–Ω—Å –¥–ª—è —á–∞—Å—Ç—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API

**–ò—Ç–æ–≥–æ:** 6-10 –¥–Ω–µ–π

---

*–î–æ–∫—É–º–µ–Ω—Ç –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è: 1 –Ω–æ—è–±—Ä—è 2025*

